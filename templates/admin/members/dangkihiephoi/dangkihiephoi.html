<!-- DANH S√ÅCH H·ªòI VI√äN -->
<div class="mb-10">
    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-bold text-green-700">Danh s√°ch ƒëƒÉng k√Ω h·ªôi vi√™n</h2>
      <button
        onclick="openHoiVienModal()"
        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow"
      >
        ‚ûï Th√™m h·ªôi vi√™n
      </button>
    </div>
  
    <!-- Table -->
    <div class="overflow-x-auto rounded-lg shadow border border-gray-200 h-[65vh] overflow-y-auto">
      <table class="min-w-full text-sm text-gray-800">
        <thead class="bg-blue-100 text-gray-700 text-left sticky top-0 z-10">
          <tr>
            <th class="px-4 py-3 border text-center">#</th>
            <th class="px-4 py-3 border">M√£ h·ªôi vi√™n</th>
            <th class="px-4 py-3 border">M√£ doanh nghi·ªáp</th>
            <th class="px-4 py-3 border">Ng√†y ƒëƒÉng k√Ω</th>
            <th class="px-4 py-3 border">T√¨nh tr·∫°ng</th>
            <th class="px-4 py-3 border text-center">H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody>
          {% for hv in dangkyhoivien %}
          <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 border text-center">{{ forloop.counter }}</td>
            <td class="px-4 py-3 border">{{ hv.MA_HH.TEN_HH }}</td> 
            <td class="px-4 py-3 border">{{ hv.MA_DN.TEN_DN }}</td>
           
            <td class="px-4 py-3 border">{{ hv.NGAY_DANG_KY|date:"d/m/Y" }}</td>
            <td class="px-4 py-3 border text-center">
                {% if hv.TINH_TRANG %}
                  <span class="text-red-500 font-semibold">{{ hv.TINH_TRANG }}</span>
                {% else %}
                  <span class="text-green-500  font-semibold">Ch∆∞a c·∫≠p nh·∫≠t</span>
                {% endif %}
              </td>
            <td class="px-4 py-3 border text-center">
              <div class="flex flex-col items-center space-y-2">
                <!-- S·ª≠a -->
                <button
                  class="bg-yellow-400 text-white px-3 py-1 rounded hover:bg-yellow-500 text-xs w-20"
                  onclick="openHoiVienModal({
                    id: '{{ hv.MA_DK_HH  }}',
                    ma_hh: '{{ hv.MA_HH }}',
                    ma_dn: '{{ hv.MA_DN }}',
                    tinh_trang: '{{ hv.TINH_TRANG|escapejs }}',
                    ngay_dang_ky: '{{ hv.NGAY_DANG_KY }}'
                  })"
                >
                  ‚úèÔ∏è S·ª≠a
                </button>
                <!-- X√≥a -->
                <form method="POST" action="{% url 'admin_members:xoa_dk_hoivien' hv.MA_DK_HH  %}" onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a h·ªôi vi√™n n√†y?');">
                  {% csrf_token %}
                  <button
                    type="submit"
                    class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-xs w-20"
                  >
                    üóëÔ∏è X√≥a
                  </button>
                </form>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="text-center py-3 italic text-gray-500">
              Kh√¥ng c√≥ h·ªôi vi√™n n√†o ƒë∆∞·ª£c t√¨m th·∫•y.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  
  {% include "admin/members/dangkihiephoi/themsuahoivien.html" %}
  