
<div class="mb-10">
    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-bold text-green-500">üíº Danh s√°ch ng√†nh ngh·ªÅ</h2>
      <button
        onclick="openNganhModal()"
        class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow"
      >
        ‚ûï Th√™m ng√†nh ngh·ªÅ
      </button>
    </div>
  
    <!-- Table -->
    <div class="overflow-x-auto rounded-lg shadow border border-gray-200 h-[65vh] overflow-y-auto">
      <table class="min-w-full text-sm text-gray-800">
        <thead class="bg-indigo-100 text-gray-700 text-left sticky top-0 z-10">
          <tr>
            <th class="px-4 py-3 border text-center">STT</th>
            <th class="px-4 py-3 border">T√™n ng√†nh ngh·ªÅ</th>
            <th class="px-4 py-3 border text-center">H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody>
          {% for nn in nganhnghe %}
          <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 border text-center">{{ forloop.counter }}</td>
            <td class="px-4 py-3 border">{{ nn.TEN_NGANH }}</td>
            <td class="px-4 py-3 border text-center">
              <div class="flex flex-col items-center space-y-2">
                <!-- N√∫t s·ª≠a -->
                <button
                  class="bg-yellow-400 text-white px-3 py-1 rounded hover:bg-yellow-500 text-xs w-20"
                  onclick="openNganhModal({
                      ma_nganh: '{{ nn.MA_NGANH }}',
                      ten_nganh: '{{ nn.TEN_NGANH|escapejs }}'
                    })"
                >
                  ‚úèÔ∏è S·ª≠a
                </button>
  
                <!-- N√∫t x√≥a -->
                <form
                  method="POST"
                  action="{% url 'admin_members:xoa_nganh_nghe' nn.MA_NGANH %}"
                  onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ng√†nh ngh·ªÅ n√†y?');"
                >
                  {% csrf_token %}
                  <button
                    type="submit"
                    class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-xs w-20"
                  >
                    üóëÔ∏è X√≥a
                  </button>
                </form>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3" class="text-center py-3 italic text-gray-500">
              Kh√¥ng c√≥ ng√†nh ngh·ªÅ n√†o ƒë∆∞·ª£c t√¨m th·∫•y.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <script>
//     function openNganhModal(data = null) {
//       const modal = document.getElementById("nganhModal");
//       const form = document.getElementById("nganhForm");
  
//       if (data) {
//         form.MA_NGANH.value = data.ma_nganh || "";
//         form.TEN_NGANH.value = data.ten_nganh || "";
//         // form.action = `/admin_members/sua_nganh_nghe/${data.ma_nganh}/`; // URL s·ª≠a
//       } else {
//         form.reset();
//         // form.action = "{% url 'admin_members:them_nganh_nghe' %}"; // URL th√™m
//       }
  
//       modal.classList.remove("hidden");
//     }
  
//     function closeNganhModal() {
//       document.getElementById("nganhModal").classList.add("hidden");
//     }
//   </script>
  
  
  <!-- Modal form th√™m/s·ª≠a ng√†nh ngh·ªÅ -->
  {% include "admin/members/nganhnghe/themsuanganhnghe.html" %}
  