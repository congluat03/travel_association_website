<!-- DANH SÃCH Äá»ŠA ÄIá»‚M -->
<div class="mb-10">
  <!-- TiÃªu Ä‘á» vÃ  nÃºt thÃªm -->
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-bold text-green-700">ğŸ“ Danh sÃ¡ch Ä‘á»‹a Ä‘iá»ƒm</h2>
    <button
      onclick="openModal()"
      class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow"
    >
      â• ThÃªm Ä‘á»‹a Ä‘iá»ƒm
    </button>
  </div>

  <!-- Báº£ng danh sÃ¡ch Ä‘á»‹a Ä‘iá»ƒm -->
  <div
    class="overflow-x-auto rounded-lg shadow border border-gray-200 h-[65vh] overflow-y-auto"
  >
    <table class="min-w-full text-sm text-gray-800">
      <thead class="bg-green-100 text-gray-700 text-left sticky top-0 z-10">
        <tr>
          <th class="px-4 py-3 border">#</th>
          <th class="px-4 py-3 border">TÃªn Ä‘á»‹a Ä‘iá»ƒm</th>
          <th class="px-4 py-3 border">Doanh nghiá»‡p</th>
          <th class="px-4 py-3 border">MÃ´ táº£</th>
          <th class="px-4 py-3 border">Äá»‹a chá»‰</th>
          <th class="px-4 py-3 border">HÃ¬nh áº£nh</th>
          <th class="px-4 py-3 border">Google Maps</th>
          <th class="px-4 py-3 border">HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody>
        {% for dia_diem in dia_diems %}
        <tr class="hover:bg-gray-50">
          <td class="px-4 py-3 border text-center">{{ dia_diem.MA_DD }}</td>
          <td class="px-4 py-3 border">{{ dia_diem.TEN_DIA_DIEM }}</td>
          <td class="px-4 py-3 border">{{ dia_diem.MA_DN.TEN_DN }}</td>
          <td class="px-4 py-3 border">{{ dia_diem.MO_TA_DD }}</td>
          <td class="px-4 py-3 border">{{ dia_diem.get_full_address }}</td>
          <td class="px-4 py-3 border">
            {# CÃ³ thá»ƒ hiá»ƒn thá»‹ áº£nh náº¿u muá»‘n #} {#
            <img
              src="{{ dia_diem.HINH_ANH_DD }}"
              class="w-32 h-20 object-cover"
            />
            #}
          </td>
          <td class="px-4 py-3 border">
            <a
              href="{{ dia_diem.get_google_map_url }}"
              target="_blank"
              class="text-blue-500 hover:text-blue-700"
            >
              Xem trÃªn Google Maps
            </a>
          </td>
          <td class="px-4 py-3 border text-center">
            <div class="flex flex-col items-center space-y-2">
              <button
                class="bg-yellow-400 text-white px-3 py-1 rounded hover:bg-yellow-500 text-xs w-20"
                onclick="openModal({
                  ma_dd: '{{ dia_diem.MA_DD.MA_DD }}',
                  ten: '{{ dia_diem.TEN_DIA_DIEM|escapejs }}',
                  ma_dn: '{{ dia_diem.MA_DN.MA_DN }}',
                  mo_ta: `{{ dia_diem.MO_TA_DD|escapejs }}`,
                  tinh_tp: '{{ dia_diem.TINH_THANH_PHO }}',
                  quan_huyen: '{{ dia_diem.QUAN_HUYEN }}',
                  khu_vuc: '{{ dia_diem.KHU_VUC }}',
                  vi_tri: '{{ dia_diem.VI_TRI }}'
                })"
              >
                âœï¸ Sá»­a
              </button>
              <form
                action="{% url 'admin_tourism:xoa_dia_diem' dia_diem.MA_DD %}"
                method="POST"
                onsubmit="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a Ä‘á»‹a Ä‘iá»ƒm nÃ y?')"
              >
                {% csrf_token %}
                <button
                  type="submit"
                  class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-xs w-20"
                >
                  ğŸ—‘ï¸ XÃ³a
                </button>
              </form>
            </div>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="8" class="text-center py-3">KhÃ´ng cÃ³ dá»¯ liá»‡u</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Modal thÃªm/sá»­a Ä‘á»‹a Ä‘iá»ƒm -->
{% include "admin/tourism/diadiem/themsuadiadiem.html" %}
