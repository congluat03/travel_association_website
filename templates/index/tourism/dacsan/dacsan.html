{% extends "index/index_layout.html" %}
{% load static %}

{% block title %}ƒê·∫∑c s·∫£n Vi·ªát Nam{% endblock %}

{% block content %}
<section class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-extrabold text-emerald-700 tracking-tight">
      üç≤ ƒê·∫∑c s·∫£n Vi·ªát Nam
    </h1>
    <p class="mt-2 text-gray-600">
      Kh√°m ph√° tinh hoa ·∫©m th·ª±c Vi·ªát qua nh·ªØng m√≥n ƒÉn truy·ªÅn th·ªëng ƒë·∫∑c tr∆∞ng c·ªßa t·ª´ng v√πng mi·ªÅn, ƒë·∫≠m ƒë√† h∆∞∆°ng v·ªã v√† b·∫£n s·∫Øc d√¢n t·ªôc.
    </p>
  </div>
  

  <!-- FORM T√åM KI·∫æM -->
  <form method="get" class="grid grid-cols-1 md:grid-cols-12 gap-4 mb-12 items-center">
    <div class="md:col-span-6">
      <input type="text" name="q" placeholder="üåø T√¨m ki·∫øm ƒë·∫∑c s·∫£n..." value="{{ query }}"
             class="p-3 rounded-2xl shadow-sm border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-green-500">
    </div>

    <div class="md:col-span-2">
      <select name="province" class="p-3 rounded-2xl shadow-sm border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-green-500">
        <option value="">üåç T·∫•t c·∫£ t·ªânh th√†nh</option>
        {% for province in provinces %}
          <option value="{{ province }}" {% if province == selected_province %}selected{% endif %}>{{ province }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="md:col-span-2 flex justify-center">
      <button type="submit"
              class="bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-2xl font-semibold shadow transition duration-300">
        T√¨m ki·∫øm
      </button>
    </div>
  </form>

  <!-- DANH S√ÅCH ƒê·∫∂C S·∫¢N -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
    {% for ds in dacsans %}
      {% include 'index/tourism/dacsan/dacsan_card_item.html' %}
    {% endfor %}
  </div>
  
<!-- PH√ÇN TRANG -->
{% if dacsans.has_other_pages %}
<div class="flex justify-center mt-12 gap-2">
  {% with request.GET.q as q %}{% with request.GET.province as province %}
    <!-- N√∫t ƒê·∫ßu -->
    {% if dacsans.has_previous %}
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page=1"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        ƒê·∫ßu
      </a>
      <!-- N√∫t Tr∆∞·ªõc -->
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.previous_page_number }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Tr∆∞·ªõc
      </a>
    {% endif %}

    <!-- Trang hi·ªán t·∫°i -->
    <span class="px-4 py-2 rounded-xl bg-emerald-50 text-emerald-700 font-semibold">
      Trang {{ dacsans.number }}/{{ dacsans.paginator.num_pages }}
    </span>

    <!-- N√∫t Ti·∫øp -->
    {% if dacsans.has_next %}
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.next_page_number }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Ti·∫øp theo
      </a>
      <!-- N√∫t Cu·ªëi -->
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.paginator.num_pages }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Cu·ªëi
      </a>
    {% endif %}
  {% endwith %}{% endwith %}
</div>
{% endif %}

</section>
{% endblock %}
