{% extends "index/index_layout.html" %}
{% load static %}

{% block title %}Äáº·c sáº£n Viá»‡t Nam{% endblock %}

{% block content %}
<section class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-extrabold text-emerald-700 tracking-tight">
      ğŸ² Äáº·c sáº£n Viá»‡t Nam
    </h1>
    <p class="mt-2 text-gray-600">
      KhÃ¡m phÃ¡ tinh hoa áº©m thá»±c Viá»‡t qua nhá»¯ng mÃ³n Äƒn truyá»n thá»‘ng Ä‘áº·c trÆ°ng cá»§a tá»«ng vÃ¹ng miá»n, Ä‘áº­m Ä‘Ã  hÆ°Æ¡ng vá»‹ vÃ  báº£n sáº¯c dÃ¢n tá»™c.
    </p>
  </div>
  

  <!-- FORM TÃŒM KIáº¾M -->
  <form method="get" class="flex flex-col md:flex-row gap-4 mb-12 items-center">
    <!-- Ã” tÃ¬m kiáº¿m -->
    <input type="text" name="q" placeholder="ğŸŒ¿ TÃ¬m kiáº¿m Ä‘áº·c sáº£n..." value="{{ query }}"
           class="flex-1 bg-white/50 backdrop-blur border border-gray-300 rounded-xl px-4 py-2 focus:ring-emerald-600">
  
    <!-- Chá»n tá»‰nh thÃ nh -->
    <select name="province"
            class="bg-white/50 backdrop-blur border border-gray-300 rounded-xl px-4 py-2 focus:ring-emerald-600">
      <option value="">ğŸŒ Táº¥t cáº£ tá»‰nh thÃ nh</option>
      {% for province in provinces %}
        <option value="{{ province }}" {% if province == selected_province %}selected{% endif %}>{{ province }}</option>
      {% endfor %}
    </select>
  
    <!-- NÃºt tÃ¬m kiáº¿m -->
    <button type="submit"
            class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-xl shadow transition duration-300">
      ğŸ”
    </button>
  </form>
  

  <!-- DANH SÃCH Äáº¶C Sáº¢N -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
    {% for ds in dacsans %}
      {% include 'index/tourism/dacsan/dacsan_card_item.html' %}
    {% endfor %}
  </div>
  
<!-- PHÃ‚N TRANG -->
{% if dacsans.has_other_pages %}
<div class="flex justify-center mt-12 gap-2">
  {% with request.GET.q as q %}{% with request.GET.province as province %}
    <!-- NÃºt Äáº§u -->
    {% if dacsans.has_previous %}
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page=1"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Äáº§u
      </a>
      <!-- NÃºt TrÆ°á»›c -->
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.previous_page_number }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        TrÆ°á»›c
      </a>
    {% endif %}

    <!-- Trang hiá»‡n táº¡i -->
    <span class="px-4 py-2 rounded-xl bg-emerald-50 text-emerald-700 font-semibold">
      Trang {{ dacsans.number }}/{{ dacsans.paginator.num_pages }}
    </span>

    <!-- NÃºt Tiáº¿p -->
    {% if dacsans.has_next %}
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.next_page_number }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Tiáº¿p theo
      </a>
      <!-- NÃºt Cuá»‘i -->
      <a href="?{% if q %}q={{ q|urlencode }}&{% endif %}{% if province %}province={{ province|urlencode }}&{% endif %}page={{ dacsans.paginator.num_pages }}"
         class="px-4 py-2 rounded-xl border bg-emerald-600 text-white hover:bg-emerald-700 transition-all duration-300">
        Cuá»‘i
      </a>
    {% endif %}
  {% endwith %}{% endwith %}
</div>
{% endif %}

</section>
{% endblock %}
